% neurips_2025.sty - NeurIPS 2025 Style File
% Based on NeurIPS 2024 template with updates for 2025
% 
% Usage: \usepackage[options]{neurips_2025}
% Options:
%   - final: for camera-ready submission
%   - preprint: for non-anonymous preprints
%   - nonatbib: if you don't want to use natbib

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{neurips_2025}[2025/01/01 NeurIPS 2025 submission/camera-ready style file]

% Declare options
\newif\if@neuripsfinal\@neuripsfinalfalse
\newif\if@neuripspreprint\@neuripspreprintfalse
\newif\if@natbib\@natbibtrue

\DeclareOption{final}{\@neuripsfinaltrue}
\DeclareOption{preprint}{\@neuripspreprinttrue}
\DeclareOption{nonatbib}{\@natbibfalse}
\ProcessOptions\relax

% Required packages
\RequirePackage{geometry}
\RequirePackage{fancyhdr}
\RequirePackage{amsmath}
\RequirePackage{amssymb}
\RequirePackage{times}

% Page geometry (NeurIPS standard)
\geometry{
    letterpaper,
    textwidth=6.5in,
    textheight=9in,
    top=1in,
    headheight=14pt,
    headsep=22pt,
    footskip=30pt
}

% Paragraph formatting
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}

% Line spacing
\renewcommand{\baselinestretch}{1.0}

% Section formatting
\renewcommand{\section}{\@startsection{section}{1}{\z@}%
    {-10pt plus -2pt minus -2pt}{6pt plus 2pt minus 2pt}%
    {\large\bfseries}}
\renewcommand{\subsection}{\@startsection{subsection}{2}{\z@}%
    {-8pt plus -2pt minus -2pt}{4pt plus 2pt minus 2pt}%
    {\normalsize\bfseries}}
\renewcommand{\subsubsection}{\@startsection{subsubsection}{3}{\z@}%
    {-6pt plus -2pt minus -2pt}{2pt plus 2pt minus 2pt}%
    {\normalsize\bfseries}}

% Title formatting
\def\@maketitle{%
    \newpage
    \null
    \vskip 2em%
    \begin{center}%
        {\LARGE\bfseries \@title \par}%
        \vskip 1.5em%
        {\large
            \lineskip .5em%
            \begin{tabular}[t]{c}%
                \@author
            \end{tabular}\par}%
        \vskip 1em%
        {\large \@date}%
    \end{center}%
    \par
    \vskip 1.5em%
}

% Abstract formatting
\renewenvironment{abstract}{%
    \centerline{\large\bfseries Abstract}%
    \vspace{0.5ex}%
    \begin{quote}%
}{%
    \end{quote}%
}

% Headers and footers
\pagestyle{fancy}
\fancyhf{}
\renewcommand{\headrulewidth}{0pt}
\if@neuripsfinal
    \fancyhead[C]{\small Proceedings of the 39th Conference on Neural Information Processing Systems (NeurIPS 2025)}
\else\if@neuripspreprint
    \fancyhead[C]{\small Preprint. Under review.}
\else
    \fancyhead[C]{\small Submitted to NeurIPS 2025}
\fi\fi
\fancyfoot[C]{\thepage}

% Use natbib if not disabled
\if@natbib
    \RequirePackage[numbers,sort&compress]{natbib}
\fi

\endinput
